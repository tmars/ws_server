<script>
var socket = new WebSocket("ws://localhost:4980");
console.log(socket);

socket.onopen = function() { 
	alert("Соединение установлено."); 
};

socket.onclose = function(event) { 
	if (event.wasClean) {
		alert('Соединение закрыто чисто');
	} else {
		alert('Обрыв соединения'); // например, "убит" процесс сервера
	}
	alert('Код: ' + event.code + ' причина: ' + event.reason);
};
 
socket.onmessage = function(event) { 
	alert("Получены данные " + event.data);
};

socket.onerror = function(error) { 
	alert("Ошибка " + error.message); 
};

function sendMessage()
{
	socket.send(document.getElementById('input').value);
}
function sendBinary()
{
	var s = document.getElementById('input').value;
	var ba = new Uint8Array(s.length);
	for (var i = 0; i < s.length; i++)
		ba[i] = s.charCodeAt(i)
	socket.send(ba.buffer);
}
</script>
<input type="text" id="input" value="test">
<button onclick="sendMessage()">send</button>
<button onclick="sendBinary()">send bin</button>